// TODO -- support pulling fname on Wizard target!

wasm::br:before /
    imm0 == 31 ||
    imm0 == 32
/ {
    report unshared var taken: i32;
    // branch always taken for `br`
    // count stores an array of counters
    taken++;
}

wasm::br_if:before /
   imm0 == 31 ||
   imm0 == 32
/ {
    report unshared var taken: i32;
    report unshared var not_taken: i32;

    // which branch was taken?
    if (arg0 != 0) {
        taken++;
    } else {
        not_taken++;
    }
}
